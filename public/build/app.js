!function(){"use strict";angular.module("app.main",["app.routes","app.core"])}(),function(){"use strict";angular.module("app.core",["ngMaterial","ngTouch","utilities.api","utilities.exception","utilities.logger","utilities.router","utilities.datetime","utilities.googleanalytics","ui.bootstrap"])}(),function(){"use strict";angular.module("app.routes",["jp.schedule.routes","utilities.router"])}(),function(){"use strict";angular.module("utilities.api",[])}(),function(){"use strict";angular.module("utilities.datetime",["angularMoment"])}(),function(){"use strict";angular.module("utilities.exception",["utilities.logger"])}(),function(){"use strict";angular.module("utilities.googleanalytics",["angulartics","angulartics.google.analytics"])}(),function(){"use strict";angular.module("utilities.logger",[])}(),function(){"use strict";angular.module("utilities.router",["ui.router"])}(),function(){"use strict";angular.module("jp.schedule.data",["app.core"])}(),function(){"use strict";angular.module("jp.schedule.layouts",[])}(),function(){"use strict";angular.module("jp.schedule.routes",["ui.router","jp.schedule.widgets","jp.schedule.layouts"])}(),function(){"use strict";angular.module("jp.schedule.widgets",["jp.schedule.widgets.activities","jp.schedule.widgets.activitySessions"])}(),function(){"use strict";angular.module("jp.schedule.widgets.activities",["jp.schedule.data"])}(),function(){"use strict";angular.module("jp.schedule.widgets.activitySessions",[])}(),function(){"use strict";function t(t){t.options.timeOut=4e3,t.options.positionClass="toast-bottom-right"}function e(t){t.debugEnabled&&t.debugEnabled(!0)}function i(t){t.configure("[NG-JP Error] ")}function n(){}angular.module("app.core").config(t).config(e).config(i).run(n),t.$inject=["toastr"],e.$inject=["$logProvider"],i.$inject=["exceptionHandlerProvider"],n.$inject=["routerService"]}(),function(){"use strict";function t(t,e,i){e.otherwise("/schedule/activities"),i.parent="",t.state(i)}angular.module("app.routes").config(t),t.$inject=["$stateProvider","$urlRouterProvider","SCHEDULE_ROOT_ROUTE"]}(),function(){"use strict";function t(t){t.lang("en",{week:{dow:1},calendar:{lastDay:"[Yesterday], dddd MMM D",sameDay:"[Today], dddd MMM D",nextDay:"[Tomorrow], dddd MMM D",lastWeek:"dddd, MMM D",nextWeek:"dddd, MMM D",sameElse:"dddd, MMM D"}}),t.tz.add(["America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Etc/UTC|UTC|0|0|"])}angular.module("utilities.datetime").config(t),t.$inject=["moment"]}(),function(){"use strict";function t(){!function(t,e,i,n,o,r,c){t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)},t[o].l=1*new Date,r=e.createElement(i),c=e.getElementsByTagName(i)[0],r.async=1,r.src=n,c.parentNode.insertBefore(r,c)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-54553612-1","auto"),ga("require","displayfeatures")}angular.module("utilities.googleanalytics").run(t)}(),function(){"use strict";function t(t,e){function i(t){return t.load()}function n(t,e){return t.load(e.activityId)}var o=e.name;t.state(o+".activities",{url:"/activities",templateUrl:"app/components/schedule/layout/base-layout.html",controller:"ScheduleBaseCtrl",controllerAs:"vm",resolve:{activitiesDataService:i}}).state(o+".sessions",{url:"/sessions/{activityId}",templateUrl:"app/components/schedule/layout/activity-sessions-layout.html",controller:"ActivitySessionLayoutController",controllerAs:"vm",resolve:{activitySessionsData:n}}),i.$inject=["scheduleBaseLayoutDataService"],n.$inject=["activitySessionsLayoutDataService","$stateParams"]}angular.module("jp.schedule.routes").config(t),t.$inject=["$stateProvider","SCHEDULE_ROOT_ROUTE"]}(),function(){"use strict";angular.module("app.core").constant("_",_)}(),function(){"use strict";angular.module("utilities.api").constant("API_CONFIG",{BASE_ROUTE:"api"})}(),function(){"use strict";angular.module("utilities.api").constant("API_ROUTES_CONFIG",{DROPINS:"dropins",ACTIVITIES:"activities"})}(),function(){"use strict";angular.module("utilities.datetime").constant("moment",moment).constant("angularMomentConfig",{timezone:"America/Detroit"}).constant("UTC_TIMEFORMAT","YYYY-MM-DD HH:MM:SS")}(),function(){"use strict";angular.module("utilities.logger").constant("toastr",toastr)}(),function(){"use strict";angular.module("jp.schedule.routes").constant("SCHEDULE_ROOT_ROUTE",{"abstract":!0,name:"schedule",url:"/schedule",template:"<div class='schedule' ui-view></div>"})}(),function(){"use strict"}(),function(){"use strict";function t(t){function e(){i.activitySessions=t.activitySessions,i.activityLabel=t.activity.activity,i.activityCategory=t.activity.category,i.activityIsWomenOnly=t.activity.women_only}var i=this;e()}angular.module("jp.schedule.layouts").controller("ActivitySessionLayoutController",t),t.$inject=["activitySessionsData"]}(),function(){"use strict";function t(t){function e(){i.activities=t.dropinActivities}var i=this;e()}angular.module("jp.schedule.layouts").controller("ScheduleBaseCtrl",t),t.$inject=["activitiesDataService"]}(),function(){"use strict";function t(t){function e(i){if("string"==typeof i||i instanceof String){var n=/[0-9]{4}-[0-1]{1}[0-9]{1}-[0-3]{1}[0-9]{1} [0-2]{1}[0-9]{1}:[0-5]{1}[0-9]{1}:[0-5]{1}[0-9]{1}/;return n.test(i)?t.parseUTC(i):i}if(i.constructor===Array){var o=[];return i.forEach(function(t){o.push(e(t))}),o}if(i instanceof Object){var o={};for(var r in i)i.hasOwnProperty(r)&&(o[r]=e(i[r]));return o}return i}var i={replaceDateTime:e};return i}angular.module("utilities.api").factory("apiTransformerService",t),t.$inject=["DateTimeService","UTC_TIMEFORMAT"]}(),function(){"use strict";function t(t,e,i){function n(i,n){n||(n={}),t.post(e.BASE_ROUTE+"/"+i,n)}function o(n){return t.get(e.BASE_ROUTE+"/"+n).then(r).then(i.replaceDateTime)}function r(t){return t.data}return{get:o,post:n}}angular.module("utilities.api").factory("apiService",t),t.$inject=["$http","API_CONFIG","apiTransformerService"]}(),function(){"use strict";function t(t){function e(){return moment.tz(new Date,"America/Detroit")}function i(e){return moment.isMoment(e)||exceptionService.catcher("Non-moment object detected"),e.tz("Etc/UTC").format(t)}function n(t){return moment.tz(t,"America/Detroit")}function o(){return r(e())}function r(t){for(var e=t.startOf("week"),i=[],n=0;7>n;n++)i.push(angular.copy(e).add(n,"days"));return i}var c={now:e,toUTC:i,parseUTC:n,getDaysInThisWeek:o};return c}angular.module("utilities.datetime").factory("DateTimeService",t),t.$inject=["UTC_TIMEFORMAT"]}(),function(){"use strict";function t(t){function e(e){return function(i){t.error(e,i)}}var i={catcher:e};return i}angular.module("utilities.exception").factory("exceptionService",t),t.$inject=["loggerService"]}(),function(){"use strict";function t(t,e){function i(i,n,o){e.error(i,o),t.error("Error: "+i,n)}function n(i,n,o){e.info(i,o),t.info("Info: "+i,n)}function o(i,n,o){e.success(i,o),t.info("Success: "+i,n)}function r(i,n,o){e.warning(i,o),t.warn("Warning: "+i,n)}var c={showToasts:!0,error:i,info:n,success:o,warning:r,log:t.log};return c}angular.module("utilities.logger").factory("loggerService",t),t.$inject=["$log","toastr"]}(),function(){"use strict";function t(t,e,i){function n(){c(),r(),o()}function o(){e.$on("$stateNotFound",function(t,e,n){if(!s){u.errors++,s=!0;var o="[State not found] Error routing to "+e.to+" from "+n.parent+"."+n.name+".";i.warning(o),a()}})}function r(){e.$on("$stateChangeSuccess",function(){u.changes++,s=!1})}function c(){e.$on("$stateChangeError",function(t,e,n,o,r,c){if(!s){u.errors++,s=!0;var l="[State Routing Error] Error routing to "+e.name+" from "+o.name+". Error: "+c;i.warning(l,[c]),a()}})}var s=!1,u={errors:0,changes:0},a=function(){t.go(t.$current)};return n(),{goDefaultState:a}}angular.module("utilities.router").factory("routerService",t),t.$inject=["$state","$rootScope","loggerService"]}(),function(){"use strict";function t(t,e,i){function n(n){function o(t){return t}function r(t){return t=_.chain(t).reduce(function(t,e){var i=e.date.startOf("day").format();return _.has(t,i)?t[i].sessions.push(e):t[i]={date:e.date.startOf("day"),sessions:[e]},t},{}).toArray().value()}return t.get(e.DROPINS+"/"+n).then(o).then(r).then(c).catch(i.catcher("XHR Failed for getActivitySessions"))}function o(n){return t.get(e.ACTIVITIES+"/"+n).catch(i.catcher("XHR Failed for getActivitySessions"))}function r(){function n(t){return t}return t.get(e.DROPINS).then(n).then(c).catch(i.catcher("XHR Failed for getDropins"))}function c(t){return _.forEach(t,function(t){t.women_only=0!==t.women_only}),t}return{getDropins:r,getActivity:o,getActivitySessions:n}}angular.module("jp.schedule.data").factory("scheduleService",t),t.$inject=["apiService","API_ROUTES_CONFIG","exceptionService","DateTimeService"]}(),function(){"use strict";function t(t,e){function i(i){function n(t){return e.getActivitySessions(t)}function o(t){return e.getActivity(t)}var r=[n(i),o(i)];return t.all(r).then(function(t){return{activitySessions:t[0],activity:t[1]}})}return{load:i}}angular.module("jp.schedule.layouts").factory("activitySessionsLayoutDataService",t),t.$inject=["$q","scheduleService"]}(),function(){"use strict";function t(t,e){function i(){var i=e.getDropins();return t.all([i]).then(function(t){return{dropinActivities:t[0]}})}return{load:i}}angular.module("jp.schedule.layouts").factory("scheduleBaseLayoutDataService",t),t.$inject=["$q","scheduleService"]}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/components/schedule/widgets/activities/activities.tmpl.html",scope:{activities:"="},link:function(){console.log("hi")}};return t}angular.module("jp.schedule.widgets.activities").directive("jpScheduleActivityWizard",t)}(),function(){"use strict";function t(t){var e={restrict:"E",templateUrl:"app/components/schedule/widgets/activity-sessions/activity-sessions-day-list.html",scope:{sessions:"=",day:"="},link:function(e){console.log("g"),e.today=t.now().add(0,"days"),e.tm=t.now().add(-1,"days"),e.tmm=t.now().add(-3,"days")}};return e}angular.module("jp.schedule.widgets.activitySessions").directive("jpScheduleActivitySessionsDayList",t),t.$inject=["DateTimeService"]}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/components/schedule/widgets/activity-sessions/activity-sessions-list.html",scope:{schedule:"="},link:function(){console.log("f")}};return t}angular.module("jp.schedule.widgets.activitySessions").directive("jpScheduleActivitySessionsList",t)}(),function(){"use strict";function t(){this.config={appErrorPrefix:void 0},this.configure=function(t){this.config.appErrorPrefix=t},this.$get=function(){return{config:this.config}}}function e(t){t.decorator("$exceptionHandler",i)}function i(t,e,i){return function(n,o){var r=e.config.appErrorPrefix||"",c={exception:n,cause:o};n.message=r+n.message,t(n,o),i.error(n.message,c)}}angular.module("utilities.exception").provider("exceptionHandler",t).config(e),e.$inject=["$provide"],i.$inject=["$delegate","exceptionHandler","loggerService"]}();