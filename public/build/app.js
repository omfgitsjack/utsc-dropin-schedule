!function(){"use strict";angular.module("app.main",["app.routes","app.core","jp.schedule"])}(),function(){"use strict";angular.module("app.core",["ngMaterial","ngTouch","utilities.api","utilities.exception","utilities.logger","utilities.router","utilities.datetime","utilities.googleanalytics","ui.bootstrap"])}(),function(){"use strict";angular.module("app.routes",["jp.schedule.routes","utilities.router"])}(),function(){"use strict";angular.module("jp.footer",[])}(),function(){"use strict";angular.module("jp.schedule",["jp.schedule.data","jp.schedule.layouts","jp.schedule.routes","jp.schedule.widgets"])}(),function(){"use strict";angular.module("utilities.api",[])}(),function(){"use strict";angular.module("utilities.datetime",["angularMoment"])}(),function(){"use strict";angular.module("utilities.exception",["utilities.logger"])}(),function(){"use strict";angular.module("utilities.googleanalytics",["angulartics","angulartics.google.analytics"])}(),function(){"use strict";angular.module("utilities.logger",[])}(),function(){"use strict";angular.module("utilities.router",["ui.router"])}(),function(){"use strict";angular.module("jp.schedule.data",[])}(),function(){"use strict";angular.module("jp.schedule.layouts",["jp.footer"])}(),function(){"use strict";angular.module("jp.schedule.routes",["ui.router","jp.schedule.widgets","jp.schedule.layouts"])}(),function(){"use strict";angular.module("jp.schedule.widgets",["jp.schedule.widgets.activityPicker","jp.schedule.widgets.activitySessions"])}(),function(){"use strict";angular.module("jp.schedule.widgets.activityPicker",["jp.schedule.data"])}(),function(){"use strict";angular.module("jp.schedule.widgets.activitySessions",[])}(),function(){"use strict";angular.module("app.core").constant("_",_)}(),function(){"use strict";angular.module("app.routes").constant("API_ROUTES_CONFIG",{ACTIVITIES:"activities"})}(),function(){"use strict";angular.module("utilities.api").constant("API_CONFIG",{BASE_ROUTE:"api"})}(),function(){"use strict";angular.module("utilities.datetime").constant("moment",moment).constant("angularMomentConfig",{timezone:"America/Detroit"}).constant("UTC_TIMEFORMAT","YYYY-MM-DD HH:MM:SS")}(),function(){"use strict";angular.module("utilities.logger").constant("toastr",toastr)}(),function(){"use strict";angular.module("jp.schedule.routes").constant("SCHEDULE_ROOT_ROUTE",{"abstract":!0,name:"schedule",url:"/schedule",templateUrl:"app/components/schedule/layout/schedule/schedule-base-layout.html"})}(),function(){"use strict";function t(t){t.options.timeOut=4e3,t.options.positionClass="toast-bottom-right"}function e(t){t.debugEnabled&&t.debugEnabled(!0)}function i(t){t.configure("[NG-JP Error] ")}function n(t){t.theme("docs-dark","default").dark()}function s(t){t.defaults.useXDomain=!0,delete t.defaults.headers.common["X-Requested-With"]}function o(){}angular.module("app.core").config(t).config(e).config(i).config(n).config(s).run(o),t.$inject=["toastr"],e.$inject=["$logProvider"],i.$inject=["exceptionHandlerProvider"],n.$inject=["$mdThemingProvider"],s.$inject=["$httpProvider"],o.$inject=["routerService"]}(),function(){"use strict";function t(t,e,i,n){i.hashPrefix("!"),e.otherwise("/schedule/activities"),n.parent="",t.state(n)}angular.module("app.routes").config(t),t.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","SCHEDULE_ROOT_ROUTE"]}(),function(){"use strict";function t(t){t.lang("en",{week:{dow:1},calendar:{lastDay:"[Yesterday], dddd MMM D",sameDay:"[Today], dddd MMM D",nextDay:"[Tomorrow], dddd MMM D",lastWeek:"dddd, MMM D",nextWeek:"dddd, MMM D",sameElse:"dddd, MMM D"}}),t.tz.add(["America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Etc/UTC|UTC|0|0|"])}angular.module("utilities.datetime").config(t),t.$inject=["moment"]}(),function(){"use strict";function t(){!function(t,e,i,n,s,o,r){t.GoogleAnalyticsObject=s,t[s]=t[s]||function(){(t[s].q=t[s].q||[]).push(arguments)},t[s].l=1*new Date,o=e.createElement(i),r=e.getElementsByTagName(i)[0],o.async=1,o.src=n,r.parentNode.insertBefore(o,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-54553612-1","auto"),ga("require","displayfeatures")}angular.module("utilities.googleanalytics").run(t)}(),function(){"use strict";function t(t,e){function i(t){return t.load()}function n(t,e){return t.load(e.activityId,e.weeksFromToday)}var s=e.name;t.state(s+".activities",{url:"/activities",templateUrl:"app/components/schedule/layout/activities/activities-layout.html",controller:"ActivitiesLayoutCtrl",controllerAs:"vm",resolve:{activitiesDataService:i}}).state(s+".sessions",{url:"/sessions/{activityId}/{weeksFromToday}",templateUrl:"app/components/schedule/layout/activity-sessions/activity-sessions-layout.html",controller:"ActivitySessionLayoutController",controllerAs:"vm",resolve:{activitySessionsData:n}}),i.$inject=["scheduleBaseLayoutDataService"],n.$inject=["activitySessionsLayoutDataService","$stateParams"]}angular.module("jp.schedule.routes").config(t),t.$inject=["$stateProvider","SCHEDULE_ROOT_ROUTE"]}(),function(){"use strict"}(),function(){"use strict";function t(t){function e(){i.activities=t.dropinActivities}var i=this;e()}angular.module("jp.schedule.layouts").controller("ActivitiesLayoutCtrl",t),t.$inject=["activitiesDataService"]}(),function(){"use strict";function t(t){function e(){0==t.selectedWeek?(i.weekIdentifier="This",i.oppositeWeekIdentifier="Next",i.oppositeWeek=1,i.activitySessions=t.activitySessionsThisWeek,i.enableWeekSwitch=t.activitySessionsNextWeek.length>=1):1==t.selectedWeek&&(i.weekIdentifier="Next",i.oppositeWeekIdentifier="Last",i.oppositeWeek=0,i.activitySessions=t.activitySessionsNextWeek,i.enableWeekSwitch=!0),i.activityLabel=t.activity.activity,i.activityId=t.activity.id,i.activityCategory=t.activity.category,i.activityIsWomenOnly=t.activity.women_only}var i=this;e()}angular.module("jp.schedule.layouts").controller("ActivitySessionLayoutController",t),t.$inject=["activitySessionsData","loggerService","$state"]}(),function(){"use strict";function t(t){function e(i){if("string"==typeof i||i instanceof String){var n=/[0-9]{4}-[0-1]{1}[0-9]{1}-[0-3]{1}[0-9]{1} [0-2]{1}[0-9]{1}:[0-5]{1}[0-9]{1}:[0-5]{1}[0-9]{1}/;return n.test(i)?t.parseUTC(i):i}if(i.constructor===Array){var s=[];return i.forEach(function(t){s.push(e(t))}),s}if(i instanceof Object){var s={};for(var o in i)i.hasOwnProperty(o)&&(s[o]=e(i[o]));return s}return i}var i={replaceDateTime:e};return i}angular.module("utilities.api").factory("apiTransformerService",t),t.$inject=["DateTimeService","UTC_TIMEFORMAT"]}(),function(){"use strict";function t(t,e,i){function n(i,n){return n||(n={}),t.post(e.BASE_ROUTE+"/"+i,n)}function s(n){return t.get(e.BASE_ROUTE+"/"+n).then(o).then(i.replaceDateTime)}function o(t){return t.data}return{get:s,post:n}}angular.module("utilities.api").factory("apiService",t),t.$inject=["$http","API_CONFIG","apiTransformerService"]}(),function(){"use strict";function t(t){function e(){return moment.tz(new Date,"America/Detroit")}function i(e){return moment.isMoment(e)||exceptionService.catcher("Non-moment object detected"),e.tz("Etc/UTC").format(t)}function n(t){return moment.tz(t,"America/Detroit")}function s(){return o(e())}function o(t){for(var e=t.startOf("week"),i=[],n=0;7>n;n++)i.push(angular.copy(e).add(n,"days"));return i}var r={now:e,toUTC:i,parseUTC:n,getDaysInThisWeek:s};return r}angular.module("utilities.datetime").factory("DateTimeService",t),t.$inject=["UTC_TIMEFORMAT"]}(),function(){"use strict";function t(t){function e(e){return function(i){t.error(e,i)}}var i={catcher:e};return i}angular.module("utilities.exception").factory("exceptionService",t),t.$inject=["loggerService"]}(),function(){"use strict";function t(t,e){function i(i,n,s){e.error(i,s),t.error("Error: "+i,n)}function n(i,n,s){e.info(i,s),t.info("Info: "+i,n)}function s(i,n,s){e.success(i,s),t.info("Success: "+i,n)}function o(i,n,s){e.warning(i,s),t.warn("Warning: "+i,n)}var r={showToasts:!0,error:i,info:n,success:s,warning:o,log:t.log};return r}angular.module("utilities.logger").factory("loggerService",t),t.$inject=["$log","toastr"]}(),function(){"use strict";function t(t,e,i){function n(){r(),o(),s()}function s(){e.$on("$stateNotFound",function(t,e,n){if(!c){a.errors++,c=!0;var s="[State not found] Error routing to "+e.to+" from "+n.parent+"."+n.name+".";i.warning(s),u()}})}function o(){e.$on("$stateChangeSuccess",function(){a.changes++,c=!1})}function r(){e.$on("$stateChangeError",function(t,e,n,s,o,r){if(!c){a.errors++,c=!0;var l="[State Routing Error] Error routing to "+e.name+" from "+s.name+". Error: "+r;i.warning(l,[r]),u()}})}var c=!1,a={errors:0,changes:0},u=function(){t.go(t.$current)};return n(),{goDefaultState:u}}angular.module("utilities.router").factory("routerService",t),t.$inject=["$state","$rootScope","loggerService"]}(),function(){"use strict";function t(t,e,i){function n(n,s){function o(t){return t=_.chain(t).reduce(function(t,e){var i=e.date.startOf("day").format();return _.has(t,i)?t[i].sessions.push(e):t[i]={date:e.date.startOf("day"),sessions:[e]},t},{}).toArray().value()}return t.get(e.ACTIVITIES+"/"+n+"/sessions/"+s).then(o).then(r).catch(i.catcher("XHR Failed for getActivitySessions"))}function s(n){return t.get(e.ACTIVITIES+"/"+n).catch(i.catcher("XHR Failed for getActivitySessions"))}function o(){function n(t){return t}return t.get(e.ACTIVITIES).then(n).then(r).catch(i.catcher("XHR Failed for getDropins"))}function r(t){return _.forEach(t,function(t){t.women_only=0!==t.women_only}),t}function c(i,n,s){return t.post(e.ACTIVITIES+i+"/sessions/"+n+"/participants",{name:s})}return{getDropins:o,getActivity:s,getActivitySessions:n,joinActivitySession:c}}angular.module("jp.schedule.data").factory("scheduleService",t),t.$inject=["apiService","API_ROUTES_CONFIG","exceptionService"]}(),function(){"use strict";function t(t,e){function i(){var i=e.getDropins();return t.all([i]).then(function(t){return{dropinActivities:t[0]}})}return{load:i}}angular.module("jp.schedule.layouts").factory("scheduleBaseLayoutDataService",t),t.$inject=["$q","scheduleService"]}(),function(){"use strict";function t(t,e){function i(i,n){function s(t){return e.getActivitySessions(t,0)}function o(t){return e.getActivitySessions(t,1)}function r(t){return e.getActivity(t)}var c=[s(i),o(i),r(i)];return t.all(c).then(function(t){return{activitySessionsThisWeek:t[0],activitySessionsNextWeek:t[1],activity:t[2],selectedWeek:n}})}return{load:i}}angular.module("jp.schedule.layouts").factory("activitySessionsLayoutDataService",t),t.$inject=["$q","scheduleService"]}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"app/components/footer/footer.html"}}angular.module("jp.footer").directive("jpFooter",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/components/schedule/widgets/activity-picker/activity-picker.html",scope:{activities:"="},link:function(){}};return t}angular.module("jp.schedule.widgets.activityPicker").directive("jpScheduleActivityPicker",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"app/components/schedule/widgets/activity-sessions/activity-session/activity-session.html",scope:{session:"=",day:"=",firstSession:"=",lastSession:"="},link:function(t){t.showDetails=!1,t.toggleShowDetails=function(){t.showDetails=!t.showDetails}}}}angular.module("jp.schedule.widgets.activitySessions").directive("jpActivitySession",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"app/components/schedule/widgets/activity-sessions/header-summary/header-summary.html",scope:{count:"=",day:"=",showLocation:"=",location:"="}}}angular.module("jp.schedule.widgets.activitySessions").directive("jpHeaderSummary",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/components/schedule/widgets/activity-sessions/day-list/activity-sessions-day-list.html",scope:{sessions:"=",day:"="}};return t}angular.module("jp.schedule.widgets.activitySessions").directive("jpScheduleActivitySessionsDayList",t),t.$inject=["DateTimeService"]}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/components/schedule/widgets/activity-sessions/list/activity-sessions-list.html",scope:{schedule:"="},link:function(){console.log("f")}};return t}angular.module("jp.schedule.widgets.activitySessions").directive("jpScheduleActivitySessionsList",t)}(),function(){"use strict";function t(t,e,i){return{restrict:"E",templateUrl:"app/components/schedule/widgets/activity-sessions/participant-join/participant-join.html",scope:{activity:"=",activitySession:"="},link:function(n){function s(){n.user={}}n.join=function(){t.joinActivitySession(n.activitySession.activity_id,n.activitySession.id,n.user.name).then(function(){e.success("You have successfully joined! Have fun :)"),i.go(i.$current,null,{reload:!0})})},s()}}}angular.module("jp.schedule.widgets.activitySessions").directive("jpParticipantJoin",t),t.$inject=["scheduleService","toastr","$state","DateTimeService"]}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"app/components/schedule/widgets/activity-sessions/participant-list/participant-list.html",scope:{participants:"="},link:function(){}}}angular.module("jp.schedule.widgets.activitySessions").directive("jpParticipantList",t)}(),function(){"use strict";function t(t){return{restrict:"A",scope:!1,link:function(e,i){e.day.isBefore(t.now().startOf("day"))&&i.addClass("scheduleUnavailable")}}}angular.module("jp.schedule.widgets.activitySessions").directive("jpScheduleUnavailable",t),t.$inject=["DateTimeService"]}(),function(){"use strict";function t(){this.config={appErrorPrefix:void 0},this.configure=function(t){this.config.appErrorPrefix=t},this.$get=function(){return{config:this.config}}}function e(t){t.decorator("$exceptionHandler",i)}function i(t,e,i){return function(n,s){var o=e.config.appErrorPrefix||"",r={exception:n,cause:s};n.message=o+n.message,t(n,s),i.error(n.message,r)}}angular.module("utilities.exception").provider("exceptionHandler",t).config(e),e.$inject=["$provide"],i.$inject=["$delegate","exceptionHandler","loggerService"]}();